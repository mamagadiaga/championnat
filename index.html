<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
    <title>FOOT</title>

    <script src="https://www.gstatic.com/firebasejs/ui/6.0.1/firebase-ui-auth.js"></script>
<link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/6.0.1/firebase-ui-auth.css" />

<script src="https://www.gstatic.com/firebasejs/ui/6.0.1/firebase-ui-auth__{LANGUAGE_CODE}.js"></script>
<link type="text/css" rel="stylesheet" href="https://www.gstatic.com/firebasejs/ui/6.0.1/firebase-ui-auth.css" />
</head>
 
<body>


 <div class="container  text-center">
    <h2 class="soir p-5">CE SOIR C'EST MATCH</h2>

                    <div class="modal fade" id="exampleModal" tabindex="-1"
                        aria-labelledby="exampleModalLabel" aria-hidden="true" data-bs-backdrop="static">
                        <div class="modal-dialog modal-lg">
                            <div class="modal-content bg" id="link">
                                <div class="modal-header">
                                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
                                </div>
                                <div class="modal-body">
                                    <form action="" id="Tform" class="p-5" autocomplete="off" onsubmit="return false">
                                        <h2 class="modal-title text-center mb-5" id="exampleModalLabel">AJOUTER UN MATCH</h2>
                                        <div class="row">
                                            <div class="col-md-6 mb-3">
                                                <input type="number" name="numero" class="form-control" id="numero" placeholder="N°" />    
                                            </div>
                                            <div class="col-md-6 mb-3 ">
                                                <select class="form-select" id="equipe"
                                                    aria-label="Floating label select example">
                                                    <option selected>Equipe</option>
                                                    <option >Paris SG </option>
                                                    <option >Barça</option>
                                                    <option >Real Madrid</option>
                                                    <option >Atletico Madrid</option>
                                                    <option >Atletico Madrid</option>
                                                    <option >Manchester City</option>
                                                    <option >Manchester united</option>
                                                    <option >Bayern</option>
                                                </select>
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-md-6 mb-3">
                                                <input type="number" name="j" class="form-control" id="journe" placeholder="Journee" />
                                            </div>
                                            <div class="col-md-6 mb-3">
                                                <input type="number" name="v" class="form-control" id="victoire" placeholder="Victoire" />
                                            </div>
                                        </div>
                                        
                                        <div class="row">
                                            <div class="col-md-6 mb-3">
                                                <input type="number" name="n" class="form-control" id="nul" placeholder="Nul" />
                                            </div>
                                            <div class="col-md-6 mb-3">
                                                <input type="number" name="d" class="form-control" id="defait" placeholder="Defaite" />
                                            </div>
                                        </div>

                                        <div class="row">
                                            <div class="col-md-6 mb-3">
                                                <input type="number" name="resultat" class="form-control" id="resultat" placeholder="Resultat"  />
                                            </div>
                                            <div class="col-md-6 mb-3">
                                                <input type="number" name="d" class="form-control" id="points" placeholder="TOTAL Points" />
                                            </div>
                                        </div>

                                        <div class="row float-end">
                                            <div class="col-md-12 mx-auto my-3">
                                                <button class="btn btn-success" id="submit">
                                                    Ajouter
                                                </button>
                                                <!-- <button class="btn btn-primary" id="update" onclick="updateData()">
                                                    Mettre à jour
                                                </button> -->
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
               
        <div class="row my-5">
            <div class="col-md-12 table-responsive-sm">
                <table class="table table-bordered text-white" id="crudTable">
                    <thead>
                        <tr>
                            <th scope="col">N°</th>
                            <th scope="col">Equipe</th>
                            <th scope="col">Journee</th>
                            <th scope="col">Victoire</th>
                            <th scope="col">Nul</th>
                            <th scope="col">Defaite</th>
                            <th scope="col">Resultat</th>
                            <th scope="col">Points</th>
                        </tr>
                    </thead>
                    <tbody id="tBody"></tbody>
                </table>
                <button type="button"
                class="btn btn-outline-light float-end save"
                data-bs-toggle="modal" data-bs-target="#exampleModal"
                data-bs-whatever="@mdo"><span>Ajouter une equipe</span> </button>
            </div>
        </div>
    </div>
</div>






    <script src="latyr.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
        crossorigin="anonymous"></script>
        <script src="https://kit.fontawesome.com/712d58e84c.js" crossorigin="anonymous">
    </script>







 <!-- <script src="script.js"></script> -->
 <script type="module">
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-app.js";
    import { getFirestore, setDoc, addDoc, doc, collection, getDocs } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-firestore.js";
    // import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.17.1/firebase-analytics.js";
    // TODO: Add SDKs for Firebase products that you want to use
    // https://firebase.google.com/docs/web/setup#available-libraries

    // Your web app's Firebase configuration
    // For Firebase JS SDK v7.20.0 and later, measurementId is optional
    const firebaseConfig = {
    apiKey: "AIzaSyBVYFq3hgTKNPuBFgZnmKi2RkLJDbg1cgo",
    authDomain: "foot-7051a.firebaseapp.com",
    projectId: "foot-7051a",
    storageBucket: "foot-7051a.appspot.com",
    messagingSenderId: "138772652818",
    appId: "1:138772652818:web:11ae85e9b955b11cd749cb"
    };
    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    // const analytics = getAnalytics(app);
    // Initialize Cloud Firestore and get a reference to the service
    const db = getFirestore(app);

          //Vider les champs
          function vider() {
         document.getElementById("numero").value = "";
         document.getElementById("equipe").value = "";
         document.getElementById("journe").value = "";
          document.getElementById("victoire").value = "";
          document.getElementById("nul").value = "";
          document.getElementById("defait").value = "";
          document.getElementById("resultat").value = "";
          document.getElementById("points").value = "";        
        }

    submit.addEventListener('click', (e) => {
    let numero = document.getElementById("numero").value;
     let equipe = document.getElementById("equipe").value;
     let journe = document.getElementById("journe").value;
     let victoire = document.getElementById("victoire").value;
     let nul = document.getElementById("nul").value;
     let defait = document.getElementById("defait").value;
     let resultat = document.getElementById("resultat").value;
     let points = document.getElementById("points").value;

     // vérifier si les champs sont vides
     if (numero == "" || equipe == "" || journe == "" || victoire == "" || nul == "" || defait == "" || resultat == "" || points == "") {
            alert("Veuillez remplir tous les champs !");
        }

        else{

            addDoc(collection(db, "mama"), {
             numero: numero,
             equipe: equipe,
             journe: journe,
             victoire: victoire,
             nul: nul,
             defait: defait,
             resultat: resultat,      
             points: points,     
            });
            alert('Equipe ajoutee');
            vider();
       
        
       

        let tbody = document.getElementById('tBody');
        tbody.innerHTML += `
                        <td>${numero}</td>
                        <td>${equipe}</td>
                        <td>${journe}</td>
                        <td>${victoire}</td>
                        <td>${nul}</td>
                        <td>${defait}</td>
                        <td>${resultat}</td>
                        <td>${points}</td>
    ` }
    });
    document.querySelector('#Tform').addEventListener('submit', (e) => {
        e.preventDefault();


    })

    const tabl = [];

    const querySnapshot = await getDocs(collection(db, "mama"));
    querySnapshot.forEach((doc) => {
        tabl.push({ ...doc.data() });
        // console.log(doc.id, " => ", doc.data());
    });
    let table = document.getElementById('tBody');

    tabl.map(element => (
        table.innerHTML += `
                <tr>
                        <td>${element.numero}</td>
                        <td>${element.equipe}</td>
                        <td>${element.journe}</td>
                        <td>${element.victoire}</td>
                        <td>${element.nul}</td>
                        <td>${element.defait}</td>
                        <td>${element.resultat}</td>
                        <td>${element.points}</td>
                </tr>
            `
    ))
          </script>

      


</body>
</html>